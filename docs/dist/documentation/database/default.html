<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Database configuration | Shopizer Technical Documentation</title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/assets/style.7f629115.css">
    <link rel="modulepreload" href="/assets/Home.6d9990df.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.a839891b.js">
    <link rel="modulepreload" href="/assets/app.c31060d3.js">
    <link rel="modulepreload" href="/assets/documentation_database_default.md.457fbc3d.lean.js">
    <link rel="modulepreload" href="/assets/app.c31060d3.js">
    <meta name="twitter:title" content="Database configuration | Shopizer Technical Documentation">
    <meta property="og:title" content="Database configuration | Shopizer Technical Documentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Shopizer Technical Documentation, back to home" data-v-675d8756 data-v-4a583abe><img class="logo" src="/shopizer-cart.png" alt="Logo" data-v-4a583abe> Shopizer Technical Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><!----></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><!----><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Getting started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/whatisshopizer/default">What is Shopizer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture/Current">Shopizer architecture</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/init/Current">Beginning with Shopizer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/buildandrunlocally/Current">Build and run locally</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/default">Technical documentation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/videotutorials">Video tutorials</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docker/default">Run Shopizer from Docker image</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docker/compose">Run using Docker Compose</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cloud/default">Run in the cloud</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/contribute/default">Contribute to Shopizer</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer Configuration</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/configuration/default">Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/documentation/database/default">Database</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#database-configuration">Database configuration</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#configure-shopizer-with-h2-database">Configure Shopizer with H2 database</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#configure-shopizer-with-mysql">Configure Shopizer with MySQL</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#configure-shopizer-with-postgresql">Configure Shopizer with Postgresql</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#configure-shopizer-with-oracle">Configure Shopizer with Oracle</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/search/cloud">Local configuration of ElasticSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/search/search">Elastic Cloud configuration</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Commerce software</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/software/users/users">Administration of users</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/software/vendors/vendors">Merchants and stores administration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog management</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shopping cart functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Ordering functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Customer functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/software/translation">Shopizer translation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Rules system</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Rules system</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">What are modules</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shipping module</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/modules/payment">Payment module</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Database schema</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/schema/country/default">Country and Zones reference data</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">REST api</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Swagger documentation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Creating new REST services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Handling REST errors</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer security</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Admin authentication</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Customer authentication</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">REST api authentication</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer metrics</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Configure analytics</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Discover Shopizer e-commerce data</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Monolith deploy</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Deploy Shopizer on premise</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Deploy Shopizer on AWS</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Deploy Shopizer on various clouds</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">AWS Lightsail simple deployment</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">AWS Lightsail with node - Angular admin - Shopizer backend</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Microservices deploy</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">User service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shipping service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Common module</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Payment service</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="database-configuration" tabindex="-1">Database configuration <a class="header-anchor" href="#database-configuration" aria-hidden="true">#</a></h2><p>Shopizer has been tested and supports H2, MySQL (recommended), MariaDB, Postgresql and Oracle databases. Shopizer comes pre-configured with H2 database. H2 is an embedded database (<a href="http://www.h2database.com" target="_blank" rel="noopener noreferrer">http://www.h2database.com</a>) configured by default to save data on files.</p><p>This pre-configuration should only be used for testing and never be used in a production environment.</p><h3 id="configure-shopizer-with-h2-database" tabindex="-1">Configure Shopizer with H2 database <a class="header-anchor" href="#configure-shopizer-with-h2-database" aria-hidden="true">#</a></h3><p>By default H2 files are saved into your application server runtime directory. To change the location where the files have to be saved, edit sm-shop/src/main/resources/database.properties and edit the line</p><div class="language-sh"><pre><code>db.jdbcUrl=jdbc\:h2\:file\:c:/SALESMANAGER;AUTOCOMMIT\=OFF;INIT\=CREATE SCHEMA IF NOT EXISTS SALESMANAGER
</code></pre></div><p>Make sure the file path is a valid existing directory. In this case the configuration file will be saved in c:\</p><h3 id="configure-shopizer-with-mysql" tabindex="-1">Configure Shopizer with MySQL <a class="header-anchor" href="#configure-shopizer-with-mysql" aria-hidden="true">#</a></h3><p>Log to your MySQL as root and create schema SALESMANAGER</p><div class="language-sh"><pre><code>mysql&gt;CREATE DATABASE SALESMANAGER;
mysql&gt;GRANT USAGE, SELECT ON *.* TO &lt;YOUR USERNAME&gt;@localhost IDENTIFIED BY &#39;&lt;YOUR PASSWORD&gt;&#39; with grant option;
mysql&gt;GRANT ALL ON SALESMANAGER.* TO &lt;YOUR USERNAME&gt;@localhost;
mysql&gt;GRANT FILE ON *.* TO &lt;YOUR USERNAME&gt;@localhost;
mysql&gt;FLUSH PRIVILEGES;
</code></pre></div><p><strong>Example</strong></p><div class="language-sh"><pre><code>mysql&gt;CREATE DATABASE SALESMANAGER;
mysql&gt;GRANT USAGE, SELECT ON *.* TO testuser@localhost IDENTIFIED BY &#39;password&#39; with grant option;
mysql&gt;GRANT ALL ON SALESMANAGER.* TO testuser@localhost;
mysql&gt;FLUSH PRIVILEGES;
</code></pre></div><p><strong>Create user that can connect from everywhere</strong></p><div class="language-sh"><pre><code>mysql&gt;CREATE USER &#39;mysuer&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypassword&#39;;
mysql&gt;GRANT USAGE, SELECT ON MYDB.* TO &#39;mysuer&#39;@&#39;%&#39; with grant option;
mysql&gt;GRANT ALL ON MYDB.* TO &#39;mysuer&#39;@&#39;%&#39;;
mysql&gt;FLUSH PRIVILEGES;
</code></pre></div><p>Edit <strong>sm-shop/src/main/resources/database.properties</strong></p><div class="language-sh"><pre><code>db.jdbcUrl=jdbc:mysql://localhost:3306/SALESMANAGER?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF-8
db.user=YOUR USERNAME
db.password=YOUR PASSWORD
db.driverClass=com.mysql.jdbc.Driver
hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect
db.preferredTestQuery=SELECT 1

db.schema=SALESMANAGER
hibernate.hbm2ddl.auto=update
</code></pre></div><p><strong>Note:</strong> Database and table names are not case sensitive in Windows, and case sensitive in most varieties of Unix-Linux. Consequently MySQL which uses lower case schema and table names will not be able to see the schema and tables which are created upper case in Shopizer. If you get an exception of a table not being found and being displayed in lower case in the error message, you will have to specify this property in My.cnf. To resolve the issue set the lower_case_table_names to 1 in <strong>My.cnf</strong> configuration file.</p><p>Edit <strong>My.cnf</strong></p><div class="language-sh"><pre><code>lower_case_table_names=1
</code></pre></div><h3 id="configure-shopizer-with-postgresql" tabindex="-1">Configure Shopizer with Postgresql <a class="header-anchor" href="#configure-shopizer-with-postgresql" aria-hidden="true">#</a></h3><p>Create a new postgresql</p><div class="language-sh"><pre><code>CREATE DATABASE SHOPIZER;
</code></pre></div><p>Create schema</p><div class="language-sh"><pre><code>CREATE SCHEMA salesmanager;
</code></pre></div><p>Edit <strong>sm-shop/src/main/resources/database.properties</strong></p><div class="language-sh"><pre><code>#POSTGRES
db.jdbcUrl=jdbc:postgresql://localhost:5432/SHOPIZER
db.user=postgres
db.password=password
db.driverClass=org.postgresql.Driver
hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
db.preferredTestQuery=SELECT 1

db.schema=SALESMANAGER
hibernate.hbm2ddl.auto=update
</code></pre></div><p>Edit <strong>shopizer/pom.xml</strong></p><p>Un-comment both postgresql dependency</p><div class="language-sh"><pre><code>		&lt;!--  postgres 
		&lt;dependency&gt;
			&lt;groupId&gt;org.postgresql&lt;/groupId&gt;
			&lt;artifactId&gt;postgresql&lt;/artifactId&gt;
		&lt;/dependency&gt;
		--&gt;
</code></pre></div><h3 id="configure-shopizer-with-oracle" tabindex="-1">Configure Shopizer with Oracle <a class="header-anchor" href="#configure-shopizer-with-oracle" aria-hidden="true">#</a></h3><p>Tested with Oracle Express and Oracle Entreprise. In this example we used Express 12c with portable database.</p><p>Create new user</p><div class="language-sh"><pre><code>CREATE USER SALESMANAGER IDENTIFIED BY password;
GRANT CONNECT, RESOURCE, DBA TO SALESMANAGER;
</code></pre></div><p>Edit <strong>sm-shop/src/main/resources/database.properties</strong></p><div class="language-sh"><pre><code>#ORACLE
db.jdbcUrl=jdbc:oracle:thin:@localhost:1521/XEPDB1
db.user=SALESMANAGER
db.password=password
db.driverClass=oracle.jdbc.OracleDriver
hibernate.dialect=org.hibernate.dialect.Oracle12cDialect
db.preferredTestQuery=SELECT 1 FROM DUAL

db.schema=SALESMANAGER
hibernate.hbm2ddl.auto=update
</code></pre></div><p>Edit <strong>shopizer/pom.xml</strong></p><p>Un-comment both oracle dependency</p><div class="language-sh"><pre><code>		&lt;!-- oracle --&gt;
		&lt;!-- 
		&lt;dependency&gt;
			&lt;groupId&gt;com.oracle&lt;/groupId&gt;
			&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;
			&lt;version&gt;${oracle.version}&lt;/version&gt; 
		&lt;/dependency&gt;
		 --&gt;
</code></pre></div><p>Also a vm argument is required in order to support LONG TEXT datatype Set runtime argument like this</p><div class="language-sh"><pre><code>-Doracle.jdbc.useFetchSizeWithLongColumn=true
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/documentation/configuration/default" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Configuration</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/documentation/search/cloud" data-v-38ede35f><span class="text" data-v-38ede35f>Local configuration of ElasticSearch</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_overview.md\":\"615f1e0f\",\"architecture_current.md\":\"f72f9583\",\"buildandrunlocally_current.md\":\"71bcee18\",\"cloud_default.md\":\"90983d48\",\"cloud_lightsail-admin-backend.md\":\"5c9d4edc\",\"cloud_lightsail-npm.md\":\"0affa0a5\",\"cloud_lightsail-simple.md\":\"19de26bc\",\"contribute_default.md\":\"3f95192c\",\"default.md\":\"9fea29ee\",\"docker-local_default.md\":\"c715bd2c\",\"docker_compose.md\":\"9338b726\",\"docker_default.md\":\"585f9e2d\",\"documentation_configuration_default.md\":\"3fd7f80b\",\"documentation_configurations_default.md\":\"fb52ef3c\",\"documentation_content_default.md\":\"3a648052\",\"documentation_database_default.md\":\"457fbc3d\",\"documentation_default.md\":\"7bc04dc2\",\"documentation_emails_default.md\":\"bb5dd2fb\",\"documentation_modules_payment.md\":\"a08d2d24\",\"documentation_search_cloud.md\":\"01c4fce7\",\"documentation_search_search.md\":\"1c671987\",\"documentation_swagger_current.md\":\"dc93464d\",\"documentation_videotutorials.md\":\"81ccacc2\",\"index.md\":\"8a5e0b02\",\"init_current.md\":\"70969b7e\",\"metrics_analytics.md\":\"e6d935ea\",\"metrics_discover.md\":\"4b812686\",\"notavailable.md\":\"6851244b\",\"process_introduction.md\":\"2c406b2a\",\"process_newpageshowto.md\":\"d87349c7\",\"schema_country_default.md\":\"03b8a429\",\"software_translation.md\":\"5559a3cc\",\"software_users_users.md\":\"3f68f1f0\",\"software_vendors_vendors.md\":\"8160e5dc\",\"whatisshopizer_default.md\":\"956f6aaa\"}")</script>
    <script type="module" async src="/assets/app.c31060d3.js"></script>
    
  </body>
</html>